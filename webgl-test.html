<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>WebGL 检测</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 40px;
            background: #f0f0f0;
        }
        .result {
            background: white;
            padding: 30px;
            border-radius: 10px;
            max-width: 600px;
            margin: 0 auto;
        }
        .success { color: #28a745; font-size: 24px; }
        .error { color: #dc3545; font-size: 24px; }
        .info { margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 5px; }
    </style>
</head>
<body>
    <div class="result">
        <h1>WebGL 支持检测</h1>
        <div id="result"></div>
        <div class="info" id="info"></div>
    </div>

    <script>
        function detectWebGL() {
            const canvas = document.createElement('canvas');
            const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
            
            const resultDiv = document.getElementById('result');
            const infoDiv = document.getElementById('info');
            
            if (gl && gl instanceof WebGLRenderingContext) {
                resultDiv.innerHTML = '<p class="success">✅ WebGL 支持正常！</p>';
                
                const vendor = gl.getParameter(gl.VENDOR);
                const renderer = gl.getParameter(gl.RENDERER);
                const version = gl.getParameter(gl.VERSION);
                
                infoDiv.innerHTML = `
                    <h3>WebGL 信息：</h3>
                    <p><strong>厂商：</strong> ${vendor}</p>
                    <p><strong>渲染器：</strong> ${renderer}</p>
                    <p><strong>版本：</strong> ${version}</p>
                    <p style="margin-top: 20px; color: green;">
                        <strong>结论：</strong> 你的浏览器支持 WebGL，AR 功能应该可以正常工作。
                    </p>
                `;
            } else {
                resultDiv.innerHTML = '<p class="error">❌ WebGL 不支持！</p>';
                
                infoDiv.innerHTML = `
                    <h3>可能的原因：</h3>
                    <ul>
                        <li>浏览器禁用了 WebGL</li>
                        <li>显卡驱动过时或不兼容</li>
                        <li>浏览器版本太旧</li>
                        <li>硬件加速被禁用</li>
                    </ul>
                    
                    <h3>解决方案：</h3>
                    <ol>
                        <li><strong>启用 WebGL：</strong>
                            <ul>
                                <li>Chrome/Edge: 访问 <code>chrome://flags</code></li>
                                <li>搜索 "WebGL"</li>
                                <li>确保 "WebGL" 和 "WebGL 2.0" 都启用</li>
                            </ul>
                        </li>
                        <li><strong>启用硬件加速：</strong>
                            <ul>
                                <li>Chrome/Edge: 设置 → 系统 → 使用硬件加速</li>
                            </ul>
                        </li>
                        <li><strong>更新显卡驱动</strong></li>
                        <li><strong>尝试其他浏览器：</strong>
                            <ul>
                                <li>Chrome</li>
                                <li>Firefox</li>
                                <li>新版 Edge</li>
                            </ul>
                        </li>
                    </ol>
                    
                    <p style="margin-top: 20px;">
                        <a href="https://get.webgl.org/" target="_blank" style="color: #007bff;">
                            访问 get.webgl.org 获取更多帮助
                        </a>
                    </p>
                `;
            }
        }
        
        detectWebGL();
    </script>
</body>
</html>

